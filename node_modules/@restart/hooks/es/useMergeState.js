"use strict";

exports.__esModule = true;
exports.default = useMergeState;

var _react = require("react");

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function useMergeState(initialState) {
  var _useState = (0, _react.useState)(initialState),
      state = _useState[0],
      setState = _useState[1];

  var updater = function updater(update) {
    if (update === null) return;
    if (typeof update === 'function') setState(function (state) {
      var nextState = update(state);
      return nextState == null ? state : _extends({}, state, nextState);
    });
    setState(function (state) {
      return _extends({}, state, update);
    });
  };

  return [state, updater];
}